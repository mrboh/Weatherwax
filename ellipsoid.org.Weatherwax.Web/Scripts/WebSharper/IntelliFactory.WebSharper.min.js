(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;$.Define($$,{IntelliFactory:{WebSharper:{AggregateException:$.Class({},{New:function($innerExceptions){var $0=this,$this=this;return $$.e=new $$.Error("AggregateException"),$$.e.InnerExceptions=$innerExceptions,$$.e;}}),Arrays:{Find:function(W,X){var Y,Z,_0;Y=b.tryFind(W,X);if(Y.$==0){Z=c.FailWith("KeyNotFoundException");}else{_0=Y.$0;Z=_0;}return Z;},FindIndex:function(_1,_2){var _3,_4,_5;_3=b.tryFindIndex(_1,_2);if(_3.$==0){_4=c.FailWith("KeyNotFoundException");}else{_5=_3.$0;_4=_5;}return _4;},Pick:function(_6,_7){var _8,_9,_;_8=b.tryPick(_6,_7);if(_8.$==0){_9=c.FailWith("KeyNotFoundException");}else{_=_8.$0;_9=_;}return _9;},average:function(ba){return d(b.sum(ba))/d(e.GetLength(ba));},averageBy:function(ba,bb){return d(b.sumBy(ba,bb))/d(e.GetLength(bb));},blit:function(bc,bd,be,bf,bg){var bh;b.checkRange(bc,bd,bg);b.checkRange(be,bf,bg);for(bh=0;bh<=bg-1;bh++){e.SetArray(be,bf+bh,e.GetArray(bc,bd+bh));}return;},checkLength:function(bi,bj){return e.GetLength(bi)!==e.GetLength(bj)?c.FailWith("Arrays differ in length."):null;},checkRange:function(bk,bl,bm){return((bm<0?true:bl<0)?true:e.GetLength(bk)<bl+bm)?c.FailWith("Index was outside the bounds of the array."):null;},choose:function(bn,bo){var bp,bq,br,bs,bt;bp=[];for(bq=0;bq<=e.GetLength(bo)-1;bq++){br=bn(e.GetArray(bo,bq));if(br.$==0){bs=null;}else{bt=br.$0;bs=bp.push(bt);}}return bp;},collect:function(bu,bv){return f.prototype.concat.apply([],b.map(bu,bv));},concat:function(bw){return f.prototype.concat.apply([],b.ofSeq(bw));},create:function(bx,by){var bz,bA;bz=f(bx);for(bA=0;bA<=bx-1;bA++){e.SetArray(bz,bA,by);}return bz;},exists2:function(bB,bC,bD){b.checkLength(bC,bD);return g.exists2(bB,bC,bD);},fill:function(bE,bF,bG,bH){var bI;b.checkRange(bE,bF,bG);for(bI=bF;bI<=bF+bG-1;bI++){e.SetArray(bE,bI,bH);}return;},filter:function(bJ,bK){var bL,bM;bL=[];for(bM=0;bM<=e.GetLength(bK)-1;bM++){bJ(e.GetArray(bK,bM))?bL.push(e.GetArray(bK,bM)):null;}return bL;},fold:function(bN,bO,bP){var bQ,bR;bQ=bO;for(bR=0;bR<=e.GetLength(bP)-1;bR++){bQ=(bN(bQ))(e.GetArray(bP,bR));}return bQ;},fold2:function(bS,bT,bU,bV){var bW,bX;b.checkLength(bU,bV);bW=bT;for(bX=0;bX<=bU.length-1;bX++){bW=((bS(bW))(e.GetArray(bU,bX)))(e.GetArray(bV,bX));}return bW;},foldBack:function(bY,bZ,b0){var b1,b2,b3;b1=b0;b2=e.GetLength(bZ);for(b3=1;b3<=b2;b3++){b1=(bY(e.GetArray(bZ,b2-b3)))(b1);}return b1;},foldBack2:function(b4,b5,b6,b7){var b8,b9,b_;b.checkLength(b5,b6);b8=e.GetLength(b5);b9=b7;for(b_=1;b_<=b8;b_++){b9=((b4(e.GetArray(b5,b8-b_)))(e.GetArray(b6,b8-b_)))(b9);}return b9;},forall2:function(b$,ca,cb){b.checkLength(ca,cb);return g.forall2(b$,ca,cb);},init:function(cc,cd){var ce,cf;cc<0?c.FailWith("Negative size given."):null;ce=f(cc);for(cf=0;cf<=cc-1;cf++){e.SetArray(ce,cf,cd(cf));}return ce;},iter:function(cg,ch){var ci;for(ci=0;ci<=e.GetLength(ch)-1;ci++){cg(e.GetArray(ch,ci));}return;},iter2:function(cj,ck,cl){var cm;b.checkLength(ck,cl);for(cm=0;cm<=e.GetLength(ck)-1;cm++){(cj(e.GetArray(ck,cm)))(e.GetArray(cl,cm));}return;},iteri:function(cn,co){var cp;for(cp=0;cp<=e.GetLength(co)-1;cp++){(cn(cp))(e.GetArray(co,cp));}return;},iteri2:function(cq,cr,cs){var ct;b.checkLength(cr,cs);for(ct=0;ct<=e.GetLength(cr)-1;ct++){((cq(ct))(e.GetArray(cr,ct)))(e.GetArray(cs,ct));}return;},map:function(cu,cv){var cw,cx;cw=f(e.GetLength(cv));for(cx=0;cx<=e.GetLength(cv)-1;cx++){e.SetArray(cw,cx,cu(e.GetArray(cv,cx)));}return cw;},map2:function(cy,cz,cA){var cB,cC;b.checkLength(cz,cA);cB=f(e.GetLength(cA));for(cC=0;cC<=e.GetLength(cA)-1;cC++){e.SetArray(cB,cC,(cy(e.GetArray(cz,cC)))(e.GetArray(cA,cC)));}return cB;},mapi:function(cD,cE){var cF,cG;cF=f(e.GetLength(cE));for(cG=0;cG<=e.GetLength(cE)-1;cG++){e.SetArray(cF,cG,(cD(cG))(e.GetArray(cE,cG)));}return cF;},mapi2:function(cH,cI,cJ){var cK,cL;b.checkLength(cI,cJ);cK=f(e.GetLength(cI));for(cL=0;cL<=e.GetLength(cI)-1;cL++){e.SetArray(cK,cL,((cH(cL))(e.GetArray(cI,cL)))(e.GetArray(cJ,cL)));}return cK;},max:function(cM){return b.reduce(function(cN){return function(cO){return c.Max(cN,cO);};},cM);},maxBy:function(cP,cQ){return b.reduce(function(cR){return function(cS){return h.Compare(cP(cR),cP(cS))===1?cR:cS;};},cQ);},min:function(cT){return b.reduce(function(cU){return function(cV){return c.Min(cU,cV);};},cT);},minBy:function(cW,cX){return b.reduce(function(cY){return function(cZ){return h.Compare(cW(cY),cW(cZ))===-1?cY:cZ;};},cX);},nonEmpty:function(c0){return e.GetLength(c0)===0?c.FailWith("The input array was empty."):null;},ofSeq:function(c1){var c2,c3;c2=[];c3=i.Get(c1);while(c3.MoveNext()){c2.push(c3.get_Current());}return c2;},partition:function(c4,c5){var c6,c7,c8;c6=[];c7=[];for(c8=0;c8<=e.GetLength(c5)-1;c8++){c4(e.GetArray(c5,c8))?c6.push(e.GetArray(c5,c8)):c7.push(e.GetArray(c5,c8));}return[c6,c7];},permute:function(c9,c_){var c$,da;c$=f(e.GetLength(c_));for(da=0;da<=e.GetLength(c_)-1;da++){e.SetArray(c$,c9(da),e.GetArray(c_,da));}return c$;},reduce:function(db,dc){var dd,de;b.nonEmpty(dc);dd=e.GetArray(dc,0);for(de=1;de<=e.GetLength(dc)-1;de++){dd=(db(dd))(e.GetArray(dc,de));}return dd;},reduceBack:function(df,dg){var dh,di,dj;b.nonEmpty(dg);dh=e.GetLength(dg);di=e.GetArray(dg,dh-1);for(dj=2;dj<=dh;dj++){di=(df(e.GetArray(dg,dh-dj)))(di);}return di;},reverse:function(dk,dl,dm){var dn;dn=b.sub(dk,dl,dm).slice().reverse();return b.blit(dn,0,dk,dl,e.GetLength(dn));},scan:function(_do,dp,dq){var dr,ds;dr=f(1+e.GetLength(dq));e.SetArray(dr,0,dp);for(ds=0;ds<=e.GetLength(dq)-1;ds++){e.SetArray(dr,ds+1,(_do(e.GetArray(dr,ds)))(e.GetArray(dq,ds)));}return dr;},scanBack:function(dt,du,dv){var dw,dx,dy;dw=e.GetLength(du);dx=f(1+dw);e.SetArray(dx,dw,dv);for(dy=0;dy<=dw-1;dy++){e.SetArray(dx,dw-dy-1,(dt(e.GetArray(du,dw-dy-1)))(e.GetArray(dx,dw-dy)));}return dx;},sort:function(dz){return b.sortBy(function(dA){return dA;},dz);},sortBy:function(dB,dC){var dD;dD=$.Tupled(function(dE){var dF,dG;dF=dE[0];dG=dE[1];return c.Compare(dB(dF),dB(dG));});return dC.slice().sort(dD);},sortInPlace:function(dH){return b.sortInPlaceBy(function(dI){return dI;},dH);},sortInPlaceBy:function(dJ,dK){var dL;dL=$.Tupled(function(dM){var dN,dO;dN=dM[0];dO=dM[1];return c.Compare(dJ(dN),dJ(dO));});return dK.sort(dL);},sortInPlaceWith:function(dP,dQ){var dR;dR=$.Tupled(function(dS){var dT,dU;dT=dS[0];dU=dS[1];return(dP(dT))(dU);});return dQ.sort(dR);},sortWith:function(dV,dW){var dX;dX=$.Tupled(function(dY){var dZ,d0;dZ=dY[0];d0=dY[1];return(dV(dZ))(d0);});return dW.slice().sort(dX);},sub:function(d1,d2,d3){b.checkRange(d1,d2,d3);return d1.slice(d2,d2+d3);},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tryFind:function(d4,d5){var d6,d7;d6={$:0};d7=0;while(d7<e.GetLength(d5)?d6.$==0:false){d4(e.GetArray(d5,d7))?d6={$:1,$0:e.GetArray(d5,d7)}:null;d7=d7+1;}return d6;},tryFindIndex:function(d8,d9){var d_,d$;d_={$:0};d$=0;while(d$<e.GetLength(d9)?d_.$==0:false){d8(e.GetArray(d9,d$))?d_={$:1,$0:d$}:null;d$=d$+1;}return d_;},tryPick:function(ea,eb){var ec,ed,ee;ec={$:0};ed=0;while(ed<e.GetLength(eb)?ec.$==0:false){ee=ea(e.GetArray(eb,ed));ee.$==1?ec=ee:null;ed=ed+1;}return ec;},unzip:function(ef){var eg,eh,ei,ej,ek,el;eg=[];eh=[];for(ei=0;ei<=e.GetLength(ef)-1;ei++){ej=e.GetArray(ef,ei);ek=ej[1];el=ej[0];eg.push(el);eh.push(ek);}return[eg,eh];},unzip3:function(em){var en,eo,ep,eq,er,es,et,eu;en=[];eo=[];ep=[];for(eq=0;eq<=e.GetLength(em)-1;eq++){er=e.GetArray(em,eq);es=er[2];et=er[1];eu=er[0];en.push(eu);eo.push(et);ep.push(es);}return[en,eo,ep];},zip:function(ev,ew){var ex,ey;b.checkLength(ev,ew);ex=f(ev.length);for(ey=0;ey<=e.GetLength(ev)-1;ey++){e.SetArray(ex,ey,[e.GetArray(ev,ey),e.GetArray(ew,ey)]);}return ex;},zip3:function(ez,eA,eB){var eC,eD;b.checkLength(ez,eA);b.checkLength(eA,eB);eC=f(ez.length);for(eD=0;eD<=e.GetLength(ez)-1;eD++){e.SetArray(eC,eD,[e.GetArray(ez,eD),e.GetArray(eA,eD),e.GetArray(eB,eD)]);}return eC;}},Arrays2D:{copy:function(eE){return j.init(eE.length,eE.length?eE[0].length:0,function(eF){return function(eG){return e.GetArray2D(eE,eF,eG);};});},init:function(eH,eI,eJ){var eK,eL,eM;eK=j.zeroCreate(eH,eI);for(eL=0;eL<=eH-1;eL++){for(eM=0;eM<=eI-1;eM++){e.SetArray2D(eK,eL,eM,(eJ(eL))(eM));}}return eK;},iter:function(eN,eO){var eP,eQ,eR,eS;eP=eO.length;eQ=eO.length?eO[0].length:0;for(eR=0;eR<=eP-1;eR++){for(eS=0;eS<=eQ-1;eS++){eN(e.GetArray2D(eO,eR,eS));}}return;},iteri:function(eT,eU){var eV,eW,eX,eY;eV=eU.length;eW=eU.length?eU[0].length:0;for(eX=0;eX<=eV-1;eX++){for(eY=0;eY<=eW-1;eY++){((eT(eX))(eY))(e.GetArray2D(eU,eX,eY));}}return;},map:function(eZ,e0){return j.init(e0.length,e0.length?e0[0].length:0,function(e1){return function(e2){return eZ(e.GetArray2D(e0,e1,e2));};});},mapi:function(e3,e4){return j.init(e4.length,e4.length?e4[0].length:0,function(e5){return function(e6){return((e3(e5))(e6))(e.GetArray2D(e4,e5,e6));};});},zeroCreate:function(e7,e8){return e.Array2DZeroCreate(e7,e8);}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return k.GetCT();},get_DefaultCancellationToken:function(){return k.defCTS().contents;}}),CancellationTokenSource:$.Class({Cancel:function(){var e9,e_,fc,fd;if(!this.c){this.c=true;e_=function(e$){var fa,fb;try{e$(null);fa={$:0};}catch(fb){fa={$:1,$0:fb};}return fa;};fc=this.r;fd=b.choose(e_,fc);e9=e.GetLength(fd)>0?c.Raise(l.New(fd)):null;}else{e9=null;}return e9;},Cancel1:function(fe){var ff,fg,fh,fj;if(!fe){ff=this.Cancel();}else{if(!this.c){this.c=true;fh=function(fi){return fi(null);};fj=this.r;fg=b.iter(fh,fj);}else{fg=null;}ff=fg;}return ff;},CancelAfter:function(fk){var fl,fm,fo,fq=this;if(!this.c){fm=this.pending;m.iter(function(fn){return n(fn);},fm);fo=o(function(){return fq.Cancel();},fk);fl=void(this.pending={$:1,$0:fo});}else{fl=null;}return fl;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(fr){var fs,ft;fs=p.New();ft=function(fu){var fv,fx;fv=function(){return fs.Cancel();};fx=k.Register(fu,function(){return fv();});return;};return b.iter(ft,fr);},CreateLinkedTokenSource1:function(fz,fA){return p.CreateLinkedTokenSource([fz,fA]);},New:function(){var fB;fB=$.New(this,{});fB.c=false;fB.pending={$:0};fB.r=[];return fB;}}),Char:$.Class({},{GetNumericValue:function(fC){return(fC>=48?fC<=57:false)?d(fC)-d(48):-1;},IsControl:function(fD){return(fD>=0?fD<=31:false)?true:fD>=128?fD<=159:false;},IsDigit:function(fE){return fE>=48?fE<=57:false;},IsLetter:function(fF){return(fF>=65?fF<=90:false)?true:fF>=97?fF<=122:false;},IsLetterOrDigit:function(fG){return q.IsLetter(fG)?true:q.IsDigit(fG);},IsLower:function(fH){return fH>=97?fH<=122:false;},IsUpper:function(fI){return fI>=65?fI<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(fJ){return fJ.length===1?fJ.charCodeAt(0):c.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(fK){var fL;fL=function(fM){var fN,fO,fP,fQ,fR,fS;fN=function(){return r.subscribeTo(fK,function(fU){var fV;s.Force(fO).Dispose();s.Force(fQ).Dispose();fV=function(){return fM.k.call(null,{$:0,$0:fU});};return k.scheduler().Fork(fV);});};fO=s.Create(fN);fP=function(){return k.Register(fM.ct,function(){var fZ;s.Force(fO).Dispose();fZ=function(){return fM.k.call(null,{$:2,$0:new t("OperationCanceledException")});};return k.scheduler().Fork(fZ);});};fQ=s.Create(fP);fR=s.Force(fO);fS=s.Force(fQ);return null;};return k.checkCancel(fL);},Bind:function(f1,f2){var f3;f3=function(f4){return f1({k:function(f5){var f6,f7,f8,ga;if(f5.$==0){f7=f5.$0;f8=function(){var f_,f$;try{f_=(f2(f7))(f4);}catch(f$){f_=f4.k.call(null,{$:1,$0:f$});}return f_;};f6=k.scheduler().Fork(f8);}else{ga=function(){return f4.k.call(null,f5);};f6=k.scheduler().Fork(ga);}return f6;},ct:f4.ct});};return k.checkCancel(f3);},Catch:function(gc){var gd;gd=function(ge){var gf,gk;try{gf=gc({k:function(gg){var gh,gi,gj;if(gg.$==0){gi=gg.$0;gh=ge.k.call(null,{$:0,$0:{$:0,$0:gi}});}else{if(gg.$==1){gj=gg.$0;gh=ge.k.call(null,{$:0,$0:{$:1,$0:gj}});}else{gh=ge.k.call(null,gg);}}return gh;},ct:ge.ct});}catch(gk){gf=ge.k.call(null,{$:0,$0:{$:1,$0:gk}});}return gf;};return k.checkCancel(gd);},Combine:function(gl,gm){return k.Bind(gl,function(){return gm;});},Delay:function(go){var gp;gp=function(gq){var gr,gs;try{gr=(go(null))(gq);}catch(gs){gr=gq.k.call(null,{$:1,$0:gs});}return gr;};return k.checkCancel(gp);},For:function(gt,gu){var gv;gv=i.Get(gt);return k.While(function(){return gv.MoveNext();},k.Delay(function(){return gu(gv.get_Current());}));},FromContinuations:function(gy){var gz;gz=function(gA){var gB,gC;gB={contents:false};gC=function(gD){var gE;if(gB.contents){gE=c.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{gB.contents=true;gE=k.scheduler().Fork(gD);}return gE;};return gy([function(gF){return gC(function(){return gA.k.call(null,{$:0,$0:gF});});},function(gH){return gC(function(){return gA.k.call(null,{$:1,$0:gH});});},function(gJ){return gC(function(){return gA.k.call(null,{$:2,$0:gJ});});}]);};return k.checkCancel(gz);},GetCT:$.Field(function(){var gL;gL=function(gM){return gM.k.call(null,{$:0,$0:gM.ct});};return k.checkCancel(gL);}),Ignore:function(gN){return k.Bind(gN,function(){return k.Return(null);});},OnCancel:function(gP){var gQ;gQ=function(gR){return gR.k.call(null,{$:0,$0:k.Register(gR.ct,gP)});};return k.checkCancel(gQ);},Parallel:function(gS){var gT,gU,gV;gT=b.ofSeq(gS);if(e.GetLength(gT)===0){gU=k.Return([]);}else{gV=function(gW){var gX,gY,gZ,g0;gX=gT.length;gY={contents:gX};gZ=b.create(gX,undefined);g0=function(g1){return function(g2){var g3,g4,g5,g6,g7,g8,g9,g_,g$;g3=[gY.contents,g2];if(g3[0]===0){g4=null;}else{if(g3[0]===1){if(g3[1].$==0){g6=g3[1].$0;e.SetArray(gZ,g1,g6);gY.contents=0;g5=gW.k.call(null,{$:0,$0:gZ});}else{g3[0];g7=g3[1];gY.contents=0;g5=gW.k.call(null,g7);}g4=g5;}else{if(g3[1].$==0){g9=g3[1].$0;g_=g3[0];e.SetArray(gZ,g1,g9);g8=void(gY.contents=g_-1);}else{g3[0];g$=g3[1];gY.contents=0;g8=gW.k.call(null,g$);}g4=g8;}}return g4;};};return b.iteri(function(ha){return function(hb){var hc;hc=function(){return hb({k:g0(ha),ct:gW.ct});};return k.scheduler().Fork(hc);};},gT);};gU=k.checkCancel(gV);}return gU;},Register:function(he,hf){var hg;hg=he.r.push(hf)-1;return{Dispose:function(){return e.SetArray(he.r,hg,function(){});}};},Return:function(hj){var hk;hk=function(hl){return hl.k.call(null,{$:0,$0:hj});};return k.checkCancel(hk);},Scheduler:$.Class({Fork:function(hm){var hn,ho,hq=this;this.robin.push(hm);if(this.idle){this.idle=false;ho=o(function(){return hq.tick();},0);hn=void ho;}else{hn=null;}return hn;},tick:function(){var hr,hs,ht,hu,hv,hw,hy=this;hr=u.now();hs=true;while(hs){ht=this.robin.length;if(ht===0){this.idle=true;hu=hs=false;}else{(this.robin.shift())(null);if(u.now()-hr>40){hw=o(function(){return hy.tick();},0);hv=hs=false;}else{hv=null;}hu=hv;}}return;}},{New:function(){var hz;hz=$.New(this,{});hz.idle=true;hz.robin=[];return hz;}}),Sleep:function(hA){var hB;hB=function(hC){var hD,hE,hF,hG,hH,hI;hD=function(){return o(function(){var hL;s.Force(hG).Dispose();hL=function(){return hC.k.call(null,{$:0,$0:null});};return k.scheduler().Fork(hL);},hA);};hE=s.Create(hD);hF=function(){return k.Register(hC.ct,function(){var hP;n(s.Force(hE));hP=function(){return hC.k.call(null,{$:2,$0:new t("OperationCanceledException")});};return k.scheduler().Fork(hP);});};hG=s.Create(hF);hH=s.Force(hE);hI=s.Force(hG);return null;};return k.checkCancel(hB);},Start:function(hR,hS){return k.StartWithContinuations(hR,function(){},function(hU){var hV;hV=[hU];return v?v.log.apply(v,["WebSharper: Uncaught asynchronous exception"].concat(hV)):undefined;},function(){},hS);},StartChild:function(hX){var hY;hY=function(hZ){var h0,h1,h2,h5,h_;h0={contents:{$:0}};h1=[];h2=function(){return hX({k:function(h4){h0.contents={$:1,$0:h4};while(h1.length>0){(h1.shift())(h4);}return;},ct:hZ.ct});};k.scheduler().Fork(h2);h5=function(h6){var h7,h8,h9;h7=h0.contents;if(h7.$==0){h8=h1.push(h6.k);}else{h9=h7.$0;h8=h6.k.call(null,h9);}return h8;};h_=k.checkCancel(h5);return hZ.k.call(null,{$:0,$0:h_});};return k.checkCancel(hY);},StartWithContinuations:function(h$,ia,ib,ic,id){var ie,_if;ie=c.DefaultArg(id,k.defCTS().contents);_if=function(){return h$({k:function(ih){var ii,ij,ik,il;if(ih.$==1){ij=ih.$0;ii=ib(ij);}else{if(ih.$==2){ik=ih.$0;ii=ic(ik);}else{il=ih.$0;ii=ia(il);}}return ii;},ct:ie});};return k.scheduler().Fork(_if);},TryCancelled:function(im,_in){var io;io=function(ip){return im({k:function(iq){var ir,is;if(iq.$==2){is=iq.$0;_in(is);ir=ip.k.call(null,iq);}else{ir=ip.k.call(null,iq);}return ir;},ct:ip.ct});};return k.checkCancel(io);},TryFinally:function(it,iu){var iv;iv=function(iw){return it({k:function(ix){var iy,iz;try{iu(null);iy=iw.k.call(null,ix);}catch(iz){iy=iw.k.call(null,{$:1,$0:iz});}return iy;},ct:iw.ct});};return k.checkCancel(iv);},TryWith:function(iA,iB){var iC;iC=function(iD){return iA({k:function(iE){var iF,iG,iH,iI,iJ;if(iE.$==0){iG=iE.$0;iF=iD.k.call(null,{$:0,$0:iG});}else{if(iE.$==1){iH=iE.$0;try{iI=(iB(iH))(iD);}catch(iJ){iI=iD.k.call(null,iE);}iF=iI;}else{iF=iD.k.call(null,iE);}}return iF;},ct:iD.ct});};return k.checkCancel(iC);},Using:function(iK,iL){return k.TryFinally(iL(iK),function(){return iK.Dispose();});},While:function(iN,iO){return iN(null)?k.Bind(iO,function(){return k.While(iN,iO);}):k.Return(null);},checkCancel:function(iQ){return function(iR){return iR.ct.c?iR.k.call(null,{$:2,$0:new t("OperationCanceledException")}):iQ(iR);};},defCTS:$.Field(function(){return{contents:p.New()};}),scheduler:$.Field(function(){return w.New();})},Control:{createEvent:function(iS,iT,iU){return{AddHandler:iS,RemoveHandler:iT,Subscribe:function(iV){var iW;iW=iU(function(){return function(iY){return iV.OnNext.call(null,iY);};});iS(iW);return{Dispose:function(){return iT(iW);}};}};}},DateTimeHelpers:{AddMonths:function(i0,i1){var i2;i2=new u(i0);return(new u(i2.getFullYear(),i2.getMonth()+i1,i2.getDate(),i2.getHours(),i2.getMinutes(),i2.getSeconds(),i2.getMilliseconds())).getTime();},AddYears:function(i3,i4){var i5;i5=new u(i3);return(new u(i5.getFullYear()+i4,i5.getMonth(),i5.getDate(),i5.getHours(),i5.getMinutes(),i5.getSeconds(),i5.getMilliseconds())).getTime();},DatePortion:function(i6){var i7;i7=new u(i6);return(new u(i7.getFullYear(),i7.getMonth(),i7.getDate())).getTime();},TimePortion:function(i8){var i9;i9=new u(i8);return(((24*0+i9.getHours())*60+i9.getMinutes())*60+i9.getSeconds())*1000+i9.getMilliseconds();}},Enumerable:{Of:function(i_){return{GetEnumerator:i_};}},Enumerator:{Get:function(i$){var ja,jb,jh,ji;if(i$ instanceof $$.Array){jb=function(jc){var jd,je,jf,jg;jd=jc.s;if(jd<e.GetLength(i$)){jf=e.GetArray(i$,jd);jc.c=jf;jg=jd+1;jc.s=jg;je=true;}else{je=false;}return je;};ja=x.New(0,null,jb);}else{if(h.Equals(typeof i$,"string")){ji=function(jj){var jk,jl,jm,jn;jk=jj.s;if(jk<i$.length){jm=i$.charCodeAt(jk);jj.c=jm;jn=jk+1;jj.s=jn;jl=true;}else{jl=false;}return jl;};jh=x.New(0,null,ji);}else{jh=i$.GetEnumerator();}ja=jh;}return ja;},T:$.Class({MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(jo,jp,jq){var jr;jr=$.New(this,{});jr.s=jo;jr.c=jp;jr.n=jq;return jr;}})},ExtraTopLevelOperatorsProxy:{array2D:function(js){var jt,jv,jw;jt=function(ju){return b.ofSeq(ju);};jv=g.map(jt,js);jw=b.ofSeq(jv);jw.dims=2;return jw;}},Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),Html:{Client:{Activator:{Activate:$.Field(function(){var jx,jy;if(A.hasDocument()){jy=B.getElementById("websharper-data");jx=jy?C(B).ready(function(){var jA,jB,jC,jD;jA=jy.getAttribute("content");jB=D.Activate(E.parse(jA));jC=G.GetFields(jB);jD=$.Tupled(function(jE){var jF,jG,jH,jI;jF=jE[0];jG=jE[1];jH=jG.get_Body();jI=B.getElementById(jF);return jH.ReplaceInDom(jI);});return b.iter(jD,jC);}):null;}else{jx=null;}return jx;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(jJ){return I.New(jJ);},SingleNode:$.Class({ReplaceInDom:function(jK){var jL;jL=this.node.parentNode.replaceChild(this.node,jK);return;}},{New:function(jM){var jN;jN=$.New(this,{});jN.node=jM;return jN;}})}}},IntrinsicFunctionProxy:{Array2DZeroCreate:function(jO,jP){var jQ;jQ=b.init(jO,function(){return f(jP);});jQ.dims=2;return jQ;},BoundsCheck:function(jS,jT){return(jT<0?true:jT>=e.GetLength(jS))?c.Raise(new t("IndexOutOfRangeException")):null;},BoundsCheck2D:function(jU,jV,jW){return(((jV<0?true:jW<0)?true:jV>=jU.length)?true:jW>=(jU.length?jU[0].length:0))?c.Raise(new t("IndexOutOfRangeException")):null;},GetArray:function(jX,jY){e.BoundsCheck(jX,jY);return jX[jY];},GetArray2D:function(jZ,j0,j1){e.BoundsCheck2D(jZ,j0,j1);return jZ[j0][j1];},GetArray2DSub:function(j2,j3,j4,j5,j6){var j7,j8,j9,j_,j$;j7=j5<0?0:j5;j8=j6<0?0:j6;j9=e.Array2DZeroCreate(j7,j8);for(j_=0;j_<=j7-1;j_++){for(j$=0;j$<=j8-1;j$++){e.SetArray2D(j9,j_,j$,e.GetArray2D(j2,j3+j_,j4+j$));}}return j9;},GetArraySub:function(ka,kb,kc){var kd,ke;kd=f(kc);for(ke=0;ke<=kc-1;ke++){e.SetArray(kd,ke,e.GetArray(ka,kb+1));}return kd;},GetLength:function(kf){var kg;kg=kf.dims;return kg===2?kf.length*kf.length:kf.length;},SetArray:function(kh,ki,kj){e.BoundsCheck(kh,ki);kh[ki]=kj;return;},SetArray2D:function(kk,kl,km,kn){e.BoundsCheck2D(kk,kl,km);kk[kl][km]=kn;return;},SetArray2DSub:function(ko,kp,kq,kr,ks,kt){var ku,kv;for(ku=0;ku<=kr-1;ku++){for(kv=0;kv<=ks-1;kv++){e.SetArray2D(ko,kp+ku,kq+kv,e.GetArray2D(kt,ku,kv));}}return;},SetArraySub:function(kw,kx,ky,kz){var kA;for(kA=0;kA<=ky-1;kA++){e.SetArray(kw,kx+kA,e.GetArray(kz,kA));}return;}},JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(kB){var kC,kD,kE,kF,kG;kC={};kD=i.Get(kB);while(kD.MoveNext()){kE=kD.get_Current();kF=kE[1];kG=kE[0];kC[kG]=kF;}return kC;}}},Json:{Activate:function(kH){var kI,kJ,kK;kI=kH.$TYPES;for(kJ=0;kJ<=e.GetLength(kI)-1;kJ++){e.SetArray(kI,kJ,D.lookup(e.GetArray(kI,kJ)));}kK=function(kL){var kM,kN,kO,kP,kQ,kR;if(h.Equals(kL,null)){kM=kL;}else{kN=typeof kL;if(kN==="object"){if(kL instanceof $$.Array){kP=D.shallowMap(kK,kL);}else{kQ=D.shallowMap(kK,kL.$V);kR=kL.$T;kP=h.Equals(typeof kR,"undefined")?kQ:D.restore(e.GetArray(kI,kR),kQ);}kO=kP;}else{kO=kL;}kM=kO;}return kM;};return kK(kH.$DATA);},lookup:function(kS){var kT,kU,kV,kW,kX,kY;kT=e.GetLength(kS);kU=$$;kV=0;while(kV<kT){kW=e.GetArray(kS,kV);kX=kU[kW];if(!h.Equals(typeof kX,undefined)){kU=kX;kY=kV=kV+1;}else{kY=c.FailWith("Invalid server reply. Failed to find type: "+kW);}}return kU;},restore:function(kZ,k0){var k1;k1=new kZ();G.ForEach(k0,function(k2){k1[k2]=k0[k2];return false;});return k1;},shallowMap:function(k3,k4){var k5,k6,k7,k8;if(k4 instanceof $$.Array){k5=b.map(k3,k4);}else{k6=typeof k4;if(k6==="object"){k8={};G.ForEach(k4,function(k9){k8[k9]=k3(k4[k9]);return false;});k7=k8;}else{k7=k4;}k5=k7;}return k5;}},Lazy:{Create:function(k_){var k$,la;k$={value:undefined,created:false,eval:k_};la=function(){var lc;if(k$.created){lc=k$.value;}else{k$.created=true;k$.value=k_(null);lc=k$.value;}return lc;};k$.eval=la;return k$;},CreateFromValue:function(ld){return{value:ld,created:true,eval:function(){return ld;},eval:function(){return ld;}};},Force:function(lg){return lg.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){var lh;lh=function(li){var lj,lk,ll,lm;lj=li.s;if(lj.$==0){lk=false;}else{ll=lj.$1;lm=lj.$0;li.c=lm;li.s=ll;lk=true;}return lk;};return x.New(this,null,lh);},get_Item:function(ln){return g.nth(ln,this);},get_Length:function(){return g.length(this);}},{Construct:function(lo,lp){return $.New(K,{$:1,$0:lo,$1:lp});},get_Nil:function(){return $.New(K,{$:0});}}),append:function(lq,lr){return J.ofSeq(g.append(lq,lr));},choose:function(ls,lt){return J.ofSeq(g.choose(ls,lt));},collect:function(lu,lv){return J.ofSeq(g.collect(lu,lv));},concat:function(lw){return J.ofSeq(g.concat(lw));},exists2:function(lx,ly,lz){return b.exists2(lx,b.ofSeq(ly),b.ofSeq(lz));},filter:function(lA,lB){return J.ofSeq(g.filter(lA,lB));},fold2:function(lC,lD,lE,lF){return b.fold2(lC,lD,b.ofSeq(lE),b.ofSeq(lF));},foldBack:function(lG,lH,lI){return b.foldBack(lG,b.ofSeq(lH),lI);},foldBack2:function(lJ,lK,lL,lM){return b.foldBack2(lJ,b.ofSeq(lK),b.ofSeq(lL),lM);},forall2:function(lN,lO,lP){return b.forall2(lN,b.ofSeq(lO),b.ofSeq(lP));},head:function(lQ){var lR,lS;if(lQ.$==1){lS=lQ.$0;lR=lS;}else{lR=c.FailWith("The input list was empty.");}return lR;},init:function(lT,lU){return J.ofArray(b.init(lT,lU));},iter2:function(lV,lW,lX){return b.iter2(lV,b.ofSeq(lW),b.ofSeq(lX));},iteri2:function(lY,lZ,l0){return b.iteri2(lY,b.ofSeq(lZ),b.ofSeq(l0));},map:function(l1,l2){return J.ofSeq(g.map(l1,l2));},map2:function(l3,l4,l5){return J.ofArray(b.map2(l3,b.ofSeq(l4),b.ofSeq(l5)));},map3:function(l6,l7,l8,l9){var l_;l_=b.map2(function(l$){return function(ma){return l$(ma);};},b.map2(l6,b.ofSeq(l7),b.ofSeq(l8)),b.ofSeq(l9));return J.ofArray(l_);},mapi:function(mb,mc){return J.ofSeq(g.mapi(mb,mc));},mapi2:function(md,me,mf){return J.ofArray(b.mapi2(md,b.ofSeq(me),b.ofSeq(mf)));},max:function(mg){return g.reduce(function(mh){return function(mi){return c.Max(mh,mi);};},mg);},maxBy:function(mj,mk){return g.reduce(function(ml){return function(mm){return h.Compare(mj(ml),mj(mm))===1?ml:mm;};},mk);},min:function(mn){return g.reduce(function(mo){return function(mp){return c.Min(mo,mp);};},mn);},minBy:function(mq,mr){return g.reduce(function(ms){return function(mt){return h.Compare(mq(ms),mq(mt))===-1?ms:mt;};},mr);},ofArray:function(mu){var mv,mw;mv=$.New(K,{$:0});for(mw=0;mw<=e.GetLength(mu)-1;mw++){mv=$.New(K,{$:1,$0:e.GetArray(mu,e.GetLength(mu)-mw-1),$1:mv});}return mv;},ofSeq:function(mx){var my,mz,mA;my=[];mz=i.Get(mx);while(mz.MoveNext()){my.unshift(mz.get_Current());}mA=my.slice(0);mA.reverse();return J.ofArray(mA);},partition:function(mB,mC){var mD,mE,mF;mD=b.partition(mB,b.ofSeq(mC));mE=mD[1];mF=mD[0];return[J.ofArray(mF),J.ofArray(mE)];},permute:function(mG,mH){return J.ofArray(b.permute(mG,b.ofSeq(mH)));},reduceBack:function(mI,mJ){return b.reduceBack(mI,b.ofSeq(mJ));},replicate:function(mK,mL){return J.ofArray(b.create(mK,mL));},rev:function(mM){var mN;mN=b.ofSeq(mM);mN.reverse();return J.ofArray(mN);},scan:function(mO,mP,mQ){return J.ofSeq(g.scan(mO,mP,mQ));},scanBack:function(mR,mS,mT){return J.ofArray(b.scanBack(mR,b.ofSeq(mS),mT));},sort:function(mU){var mV;mV=b.ofSeq(mU);b.sortInPlace(mV);return J.ofArray(mV);},sortBy:function(mW,mX){return J.sortWith(function(mY){return function(mZ){return c.Compare(mW(mY),mW(mZ));};},mX);},sortWith:function(m0,m1){var m2;m2=b.ofSeq(m1);b.sortInPlaceWith(m0,m2);return J.ofArray(m2);},tail:function(m3){var m4,m5;if(m3.$==1){m5=m3.$1;m4=m5;}else{m4=c.FailWith("The input list was empty.");}return m4;},unzip:function(m6){var m7,m8,m9,m_,m$,na;m7=[];m8=[];m9=i.Get(m6);while(m9.MoveNext()){m_=m9.get_Current();m$=m_[1];na=m_[0];m7.push(na);m8.push(m$);}return[J.ofArray(m7.slice(0)),J.ofArray(m8.slice(0))];},unzip3:function(nb){var nc,nd,ne,nf,ng,nh,ni,nj;nc=[];nd=[];ne=[];nf=i.Get(nb);while(nf.MoveNext()){ng=nf.get_Current();nh=ng[2];ni=ng[1];nj=ng[0];nc.push(nj);nd.push(ni);ne.push(nh);}return[J.ofArray(nc.slice(0)),J.ofArray(nd.slice(0)),J.ofArray(ne.slice(0))];},zip:function(nk,nl){return J.ofArray(b.zip(b.ofSeq(nk),b.ofSeq(nl)));},zip3:function(nm,nn,no){return J.ofArray(b.zip3(b.ofSeq(nm),b.ofSeq(nn),b.ofSeq(no)));}},OperatorIntrinsics:{GetArraySlice:function(np,nq,nr){var ns,nt,nu,nv,nw,nx,ny,nz;ns=[nq,nr];if(ns[0].$==0){if(ns[1].$==1){nv=ns[1].$0;nu=np.slice(0,nv+1);}else{nu=[];}nt=nu;}else{if(ns[1].$==0){nx=ns[0].$0;nw=np.slice(nx);}else{ny=ns[1].$0;nz=ns[0].$0;nw=np.slice(nz,ny+1);}nt=nw;}return nt;},GetArraySlice2D:function(nA,nB,nC,nD,nE){var nF,nG,nH,nI,nJ,nK,nL,nM,nN,nO,nP,nQ,nR,nS;if(nB.$==1){nH=nB.$0;nG=nH;}else{nG=0;}nF=nG;if(nD.$==1){nK=nD.$0;nJ=nK;}else{nJ=0;}nI=nJ;if(nC.$==1){nN=nC.$0;nM=nN;}else{nM=nA.length-1;}nL=nM;if(nE.$==1){nQ=nE.$0;nP=nQ;}else{nP=(nA.length?nA[0].length:0)-1;}nO=nP;nR=nL-nF+1;nS=nO-nI+1;return e.GetArray2DSub(nA,nF,nI,nR,nS);},GetArraySlice2DFixed1:function(nT,nU,nV,nW){var nX,nY,nZ,n0,n1,n2,n3,n4,n5;if(nV.$==1){nZ=nV.$0;nY=nZ;}else{nY=0;}nX=nY;if(nW.$==1){n2=nW.$0;n1=n2;}else{n1=(nT.length?nT[0].length:0)-1;}n0=n1;n3=n0-nX+1;n4=f(n3);for(n5=0;n5<=n3-1;n5++){e.SetArray(n4,n5,e.GetArray2D(nT,nU,nX+n5));}return n4;},GetArraySlice2DFixed2:function(n6,n7,n8,n9){var n_,n$,oa,ob,oc,od,oe,of,og;if(n7.$==1){oa=n7.$0;n$=oa;}else{n$=0;}n_=n$;if(n8.$==1){od=n8.$0;oc=od;}else{oc=n6.length-1;}ob=oc;oe=ob-n_+1;of=f(oe);for(og=0;og<=oe-1;og++){e.SetArray(of,og,e.GetArray2D(n6,n_+og,n9));}return of;},GetStringSlice:function(oh,oi,oj){var ok,ol,om,on,oo,op,oq,or;ok=[oi,oj];if(ok[0].$==0){if(ok[1].$==1){on=ok[1].$0;om=oh.slice(0,on+1);}else{om="";}ol=om;}else{if(ok[1].$==0){op=ok[0].$0;oo=oh.slice(op);}else{oq=ok[1].$0;or=ok[0].$0;oo=oh.slice(or,oq+1);}ol=oo;}return ol;},SetArraySlice:function(os,ot,ou,ov){var ow,ox,oy,oz,oA,oB;if(ot.$==1){oy=ot.$0;ox=oy;}else{ox=0;}ow=ox;if(ou.$==1){oB=ou.$0;oA=oB;}else{oA=e.GetLength(os)-1;}oz=oA;return e.SetArraySub(os,ow,oz-ow+1,ov);},SetArraySlice2D:function(oC,oD,oE,oF,oG,oH){var oI,oJ,oK,oL,oM,oN,oO,oP,oQ,oR,oS,oT;if(oD.$==1){oK=oD.$0;oJ=oK;}else{oJ=0;}oI=oJ;if(oF.$==1){oN=oF.$0;oM=oN;}else{oM=0;}oL=oM;if(oE.$==1){oQ=oE.$0;oP=oQ;}else{oP=oC.length-1;}oO=oP;if(oG.$==1){oT=oG.$0;oS=oT;}else{oS=(oC.length?oC[0].length:0)-1;}oR=oS;return e.SetArray2DSub(oC,oI,oL,oO-oI+1,oR-oL+1,oH);},SetArraySlice2DFixed1:function(oU,oV,oW,oX,oY){var oZ,o0,o1,o2,o3,o4,o5,o6;if(oW.$==1){o1=oW.$0;o0=o1;}else{o0=0;}oZ=o0;if(oX.$==1){o4=oX.$0;o3=o4;}else{o3=(oU.length?oU[0].length:0)-1;}o2=o3;o5=o2-oZ+1;for(o6=0;o6<=o5-1;o6++){e.SetArray2D(oU,oV,oZ+o6,e.GetArray(oY,o6));}return;},SetArraySlice2DFixed2:function(o7,o8,o9,o_,o$){var pa,pb,pc,pd,pe,pf,pg,ph;if(o8.$==1){pc=o8.$0;pb=pc;}else{pb=0;}pa=pb;if(o9.$==1){pf=o9.$0;pe=pf;}else{pe=o7.length-1;}pd=pe;pg=pd-pa+1;for(ph=0;ph<=pg-1;ph++){e.SetArray2D(o7,pa+ph,o_,e.GetArray(o$,ph));}return;}},Operators:{Compare:function(pi,pj){return h.Compare(pi,pj);},Decrement:function(pk){pk.contents=pk.contents-1;},DefaultArg:function(pl,pm){var pn,po;if(pl.$==0){pn=pm;}else{po=pl.$0;pn=po;}return pn;},FailWith:function(pp){return c.Raise(new t(pp));},Increment:function(pq){pq.contents=pq.contents+1;},KeyValue:function(pr){return[pr.K,pr.V];},Max:function(ps,pt){return h.Compare(ps,pt)===1?ps:pt;},Min:function(pu,pv){return h.Compare(pu,pv)===-1?pu:pv;},Pown:function(pw,px){var py;py=function(pz){var pA,pB,pC;if(pz===1){pA=pw;}else{if(pz%2===0){pC=py(pz/2>>0);pB=pC*pC;}else{pB=pw*py(pz-1);}pA=pB;}return pA;};return py(px);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(pD){return pD===0?0:pD<0?-1:1;},Truncate:function(pE){return pE<0?L.ceil(pE):L.floor(pE);},Using:function(pF,pG){var pH;try{pH=pG(pF);}finally{pF.Dispose();}return pH;},range:function(pI,pJ){return g.init(1+pJ-pI,function(pK){return pK+pI;});},step:function(pL,pM,pN){var pO,pP,pR,pT;pO=c.Sign(pM);pP=function(pQ){return pO*(pN-pQ)>=0;};pR=g.initInfinite(function(pS){return pL+pS*pM;});pT=g.takeWhile(pP,pR);return pT;}},Option:{bind:function(pU,pV){var pW,pX;if(pV.$==0){pW={$:0};}else{pX=pV.$0;pW=pU(pX);}return pW;},exists:function(pY,pZ){var p0,p1;if(pZ.$==0){p0=false;}else{p1=pZ.$0;p0=pY(p1);}return p0;},fold:function(p2,p3,p4){var p5,p6;if(p4.$==0){p5=p3;}else{p6=p4.$0;p5=(p2(p3))(p6);}return p5;},foldBack:function(p7,p8,p9){var p_,p$;if(p8.$==0){p_=p9;}else{p$=p8.$0;p_=(p7(p$))(p9);}return p_;},forall:function(qa,qb){var qc,qd;if(qb.$==0){qc=true;}else{qd=qb.$0;qc=qa(qd);}return qc;},iter:function(qe,qf){var qg,qh;if(qf.$==0){qg=null;}else{qh=qf.$0;qg=qe(qh);}return qg;},map:function(qi,qj){var qk,ql;if(qj.$==0){qk={$:0};}else{ql=qj.$0;qk={$:1,$0:qi(ql)};}return qk;},toArray:function(qm){var qn,qo;if(qm.$==0){qn=[];}else{qo=qm.$0;qn=[qo];}return qn;},toList:function(qp){var qq,qr;if(qp.$==0){qq=$.New(K,{$:0});}else{qr=qp.$0;qq=J.ofArray([qr]);}return qq;}},PrintfHelpers:{padNumLeft:function(qs,qt){var qu,qv,qw,qx;qu=e.GetArray(qs,0);if((qu===" "?true:qu==="+")?true:qu==="-"){qw=qs.substr(1);qx=qt-1;qv=qu+M.PadLeftWith(qw,qx,48);}else{qv=M.PadLeftWith(qs,qt,48);}return qv;},plusForPos:function(qy,qz){return 0<=qy?"+"+qz:qz;},plusForPos0:function(qA,qB){return 0<=qA?"+"+qB:qB;},prettyPrint:function(qD){var qE,qO,qP,qQ,qR,qS,qU;qE=function(qF){var qG,qH,qI,qJ,qN;qG=$$.String(qF);if(qG==="[object Object]"){qI=G.GetFields(qF);qJ=$.Tupled(function(qK){var qL,qM;qL=qK[0];qM=qK[1];return qL+" = "+N.prettyPrint(qM);});qN=b.map(qJ,qI);qH="{"+M.concat("; ",qN)+"}";}else{qH=qG;}return qH;};qO=typeof qD;if(qO=="string"){qP="\""+qD+"\"";}else{if(qO=="object"){if(qD instanceof $$.Array){qS=function(qT){return N.prettyPrint(qT);};qU=b.map(qS,qD);qR="[|"+M.concat("; ",qU)+"|]";}else{qR=qE(qD);}qQ=qR;}else{qQ=$$.String(qD);}qP=qQ;}return qP;},printArray:function(qV,qW){var qX;qX=b.map(qV,qW);return"[|"+M.concat("; ",qX)+"|]";},printArray2D:function(qY,qZ){var q0;q0=g.delay(function(){var q2;q2=qZ.length?qZ[0].length:0;return g.map(function(q3){var q4;q4=g.delay(function(){return g.map(function(q6){return qY(e.GetArray2D(qZ,q3,q6));},c.range(0,q2-1));});return M.concat("; ",q4);},c.range(0,qZ.length-1));});return"[["+M.concat("][",q0)+"]]";},printList:function(q7,q8){var q9;q9=g.map(q7,q8);return"["+M.concat("; ",q9)+"]";},spaceForPos:function(q_,q$){return 0<=q_?" "+q$:q$;},toSafe:function(ra){return ra==null?"":ra;}},Queue:{Clear:function(rb){return rb.splice(0,e.GetLength(rb));},Contains:function(rc,rd){return g.exists(function(re){return h.Equals(rd,re);},rc);},CopyTo:function(rf,rg,rh){return b.blit(rf,0,rg,rh,e.GetLength(rf));}},Random:$.Class({Next:function(){return L.floor(L.random()*2147483648);},Next1:function(ri){return ri<0?c.FailWith("'maxValue' must be greater than zero."):L.floor(L.random()*ri);},Next2:function(rj,rk){var rl,rm;if(rj>rk){rl=c.FailWith("'minValue' cannot be greater than maxValue.");}else{rm=rk-rj;rl=rj+L.floor(L.random()*rm);}return rl;},NextBytes:function(rn){var ro;for(ro=0;ro<=e.GetLength(rn)-1;ro++){e.SetArray(rn,ro,L.floor(L.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Remoting:{AjaxProvider:$.Field(function(){return P.New();}),AjaxRemotingProvider:$.Class({},{Async:function(rp,rq){var rr,rs,rt;rr=O.makeHeaders(rp);rs=O.makePayload(rq);rt=function(){var rv,rw;rv=Q.get_CancellationToken();rw=function(rx){var ry,rQ;ry=$.Tupled(function(rz){var rA,rB,rC,rD,rE,rH,rJ,rM,rP;rA=rz[0];rB=rz[1];rC=rz[2];rD={contents:true};rE=function(){var rG;if(rD.contents){rD.contents=false;rG=rC(new t("OperationCanceledException"));}else{rG=null;}return rG;};rH=k.Register(rx,function(){return rE();});rJ=function(rK){var rL;if(rD.contents){rD.contents=false;rH.Dispose();rL=rA(D.Activate(E.parse(rK)));}else{rL=null;}return rL;};rM=function(rN){var rO;if(rD.contents){rD.contents=false;rH.Dispose();rO=rB(rN);}else{rO=null;}return rO;};rP=O.EndPoint();return O.AjaxProvider().Async(rP,rr,rs,rJ,rM);});rQ=k.FromContinuations(ry);return rQ;};return k.Bind(rv,rw);};return k.Delay(rt);},Send:function(rR,rS){var rT,rU,rV;rT=R.Async(rR,rS);rU=k.Ignore(rT);rV={$:0};return k.Start(rU,rV);},Sync:function(rW,rX){var rY,rZ,r0,r1;rY=O.EndPoint();rZ=O.makeHeaders(rW);r0=O.makePayload(rX);r1=O.AjaxProvider().Sync(rY,rZ,r0);return D.Activate(E.parse(r1));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var r2,r3,r4,r5,r6,r7;try{r3=S.location.href;if(!M.StartsWith(r3,"https://")){r5=S.location.href;r6=M.Replace(r5,"http://","https://");O.EndPoint=function(){return r6;};r4=true;}else{r4=false;}r2=r4;}catch(r7){r2=false;}return r2;},XhrProvider:$.Class({Async:function(r8,r9,r_,r$,sa){return O.ajax(true,r8,r9,r_,r$,sa);},Sync:function(sb,sc,sd){var se;se={contents:undefined};O.ajax(false,sb,sc,sd,function(sf){se.contents=sf;},function(sg){return c.Raise(sg);});return se.contents;}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();xhr.withCredentials=true;xhr.open("POST",$url,$async);for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(sh){var si;si={};si["content-type"]="application/json";si["x-websharper-rpc"]=sh;return si;},makePayload:function(sj){return E.stringify(sj);}},Seq:{append:function(sk,sl){return T.Of(function(){var sn,so;sn=i.Get(sk);so=function(sp){var sq,sr,ss,st,su,sv;if(sp.s.MoveNext()){sr=sp.s.get_Current();sp.c=sr;sq=true;}else{if(sp.s===sn){st=i.Get(sl);sp.s=st;if(st.MoveNext()){sv=st.get_Current();sp.c=sv;su=true;}else{su=false;}ss=su;}else{ss=false;}sq=ss;}return sq;};return x.New(sn,null,so);});},average:function(sw){var sx,sC,sD;sx=g.fold($.Tupled(function(sy){var sz,sA;sz=sy[0];sA=sy[1];return function(sB){return[sz+1,sA+sB];};}),[0,0],sw);sC=sx[1];sD=sx[0];return sC/sD;},averageBy:function(sE,sF){var sG,sL,sM;sG=g.fold($.Tupled(function(sH){var sI,sJ;sI=sH[0];sJ=sH[1];return function(sK){return[sI+1,sJ+sE(sK)];};}),[0,0],sF);sL=sG[1];sM=sG[0];return sL/sM;},cache:function(sN){var sO,sP,sQ;sO=[];sP=i.Get(sN);sQ=function(){var sS;sS=function(sT){var sU,sV,sW,sX,sY,sZ;if(sT.s+1<sO.length){sV=sT.s+1;sT.s=sV;sW=sO[sT.s];sT.c=sW;sU=true;}else{if(sP.MoveNext()){sY=sT.s+1;sT.s=sY;sZ=sP.get_Current();sT.c=sZ;sO.push(sT.get_Current());sX=true;}else{sX=false;}sU=sX;}return sU;};return x.New(0,null,sS);};return T.Of(sQ);},choose:function(s0,s1){var s2;s2=function(s3){var s4,s5,s6;s4=s0(s3);if(s4.$==0){s5=$.New(K,{$:0});}else{s6=s4.$0;s5=J.ofArray([s6]);}return s5;};return g.collect(s2,s1);},collect:function(s7,s8){return g.concat(g.map(s7,s8));},compareWith:function(s9,s_,s$){var ta,tb,tc,td,te;ta=i.Get(s_);tb=i.Get(s$);tc=0;td=true;while(td?tc===0:false){te=[ta.MoveNext(),tb.MoveNext()];te[0]?te[1]?tc=(s9(ta.get_Current()))(tb.get_Current()):tc=1:te[1]?tc=-1:td=false;}return tc;},concat:function(tf){return T.Of(function(){var th,ti;th=i.Get(tf);ti=function(tj){var tk,tl,tm,tn,to,tp;tk=tj.s;if(h.Equals(tk,null)){if(th.MoveNext()){tn=i.Get(th.get_Current());tj.s=tn;tm=ti(tj);}else{tm=false;}tl=tm;}else{if(tk.MoveNext()){tp=tk.get_Current();tj.c=tp;to=true;}else{tj.s=null;to=ti(tj);}tl=to;}return tl;};return x.New(null,null,ti);});},countBy:function(tq,tr){var ts;ts=function(){var tu,tv,tw,tx,ty,tz,tA,tC,tD;tu={};tv=i.Get(tr);tw=[];while(tv.MoveNext()){tx=tq(tv.get_Current());ty=h.Hash(tx);if(tu.hasOwnProperty(ty)){tz=void(tu[ty]=tu[ty]+1);}else{tw.push(tx);tz=void(tu[ty]=1);}}tA=function(tB){return[tB,tu[h.Hash(tB)]];};tC=tw.slice(0);tD=b.map(tA,tC);return tD;};return g.delay(ts);},delay:function(tE){return T.Of(function(){return i.Get(tE(null));});},distinct:function(tG){return g.distinctBy(function(tH){return tH;},tG);},distinctBy:function(tI,tJ){var tK;tK=function(){var tM,tN,tO;tM=i.Get(tJ);tN={};tO=function(tP){var tQ,tR,tS,tV,tX,tY,tZ;if(tM.MoveNext()){tR=tM.get_Current();tS=function(tT){var tU;tU=tI(tT);return h.Hash(tU);};tV=function(tW){return tN.hasOwnProperty(tS(tW));};tX=tV(tR);while(tX?tM.MoveNext():false){tR=tM.get_Current();tX=tV(tR);}if(tX){tY=false;}else{tN[tS(tR)]=null;tZ=tR;tP.c=tZ;tY=true;}tQ=tY;}else{tQ=false;}return tQ;};return x.New(null,null,tO);};return T.Of(tK);},empty:function(){return[];},enumFinally:function(t0,t1){return T.Of(function(){var t3,t4,t5,t6;try{t4=i.Get(t0);}catch(t5){t1(null);t4=c.Raise(t5);}t3=t4;t6=function(t7){var t8,t9,t_,t$;try{if(t3.MoveNext()){t_=t3.get_Current();t7.c=t_;t9=true;}else{t1(null);t9=false;}t8=t9;}catch(t$){t1(null);t8=c.Raise(t$);}return t8;};return x.New(null,null,t6);});},enumUsing:function(ua,ub){return ub(ua);},enumWhile:function(uc,ud){return T.Of(function(){var uf,up;uf=function(ug){var uh,ui,uj,uk,ul,um,un,uo;uh=ug.s;if(uh.$==1){uj=uh.$0;if(uj.MoveNext()){ul=uj.get_Current();ug.c=ul;uk=true;}else{um={$:0};ug.s=um;uk=uf(ug);}ui=uk;}else{if(uc(null)){uo={$:1,$0:i.Get(ud)};ug.s=uo;un=uf(ug);}else{un=false;}ui=un;}return ui;};up={$:0};return x.New(up,null,uf);});},exists:function(uq,ur){var us,ut;us=i.Get(ur);ut=false;while(!ut?us.MoveNext():false){ut=uq(us.get_Current());}return ut;},exists2:function(uu,uv,uw){var ux,uy,uz;ux=i.Get(uv);uy=i.Get(uw);uz=false;while((!uz?ux.MoveNext():false)?uy.MoveNext():false){uz=(uu(ux.get_Current()))(uy.get_Current());}return uz;},filter:function(uA,uB){var uC;uC=function(){var uE,uF;uE=i.Get(uB);uF=function(uG){var uH,uI,uJ,uK,uL;uH=uE.MoveNext();uI=uE.get_Current();uJ=false;while(uH){if(uA(uI)){uL=uI;uG.c=uL;uJ=true;uK=uH=false;}else{uK=uE.MoveNext()?uI=uE.get_Current():uH=false;}}return uJ;};return x.New(null,null,uF);};return T.Of(uC);},find:function(uM,uN){var uO,uP,uQ;uO=g.tryFind(uM,uN);if(uO.$==0){uP=c.FailWith("KeyNotFoundException");}else{uQ=uO.$0;uP=uQ;}return uP;},findIndex:function(uR,uS){var uT,uU,uV;uT=g.tryFindIndex(uR,uS);if(uT.$==0){uU=c.FailWith("KeyNotFoundException");}else{uV=uT.$0;uU=uV;}return uU;},fold:function(uW,uX,uY){var uZ,u0;uZ=uX;u0=i.Get(uY);while(u0.MoveNext()){uZ=(uW(uZ))(u0.get_Current());}return uZ;},forall:function(u1,u2){return!g.exists(function(u3){return!u1(u3);},u2);},forall2:function(u4,u5,u6){return!g.exists2(function(u7){return function(u8){return!(u4(u7))(u8);};},u5,u6);},groupBy:function(u9,u_){return g.delay(function(){var va,vb,vc,vd,ve,vf,vg;va={};vb={};vc=[];vd=i.Get(u_);while(vd.MoveNext()){ve=vd.get_Current();vf=u9(ve);vg=h.Hash(vf);!va.hasOwnProperty(vg)?vc.push(vf):null;vb[vg]=vf;va.hasOwnProperty(vg)?va[vg].push(ve):void(va[vg]=[ve]);}return b.map(function(vh){return[vh,va[h.Hash(vh)]];},vc);});},head:function(vi){var vj;vj=i.Get(vi);return vj.MoveNext()?vj.get_Current():g.insufficient();},init:function(vk,vl){return g.take(vk,g.initInfinite(vl));},initInfinite:function(vm){var vn;vn=function(){var vp;vp=function(vq){var vr,vs;vr=vm(vq.s);vq.c=vr;vs=vq.s+1;vq.s=vs;return true;};return x.New(0,null,vp);};return T.Of(vn);},insufficient:function(){return c.FailWith("The input sequence has an insufficient number of elements.");},isEmpty:function(vt){var vu;vu=i.Get(vt);return!vu.MoveNext();},iter:function(vv,vw){return g.iteri(function(){return function(vy){return vv(vy);};},vw);},iter2:function(vz,vA,vB){var vC,vD;vC=i.Get(vA);vD=i.Get(vB);while(vC.MoveNext()?vD.MoveNext():false){(vz(vC.get_Current()))(vD.get_Current());}return;},iteri:function(vE,vF){var vG,vH;vG=0;vH=i.Get(vF);while(vH.MoveNext()){(vE(vG))(vH.get_Current());vG=vG+1;}return;},length:function(vI){var vJ,vK;vJ=0;vK=i.Get(vI);while(vK.MoveNext()){vJ=vJ+1;}return vJ;},map:function(vL,vM){var vN;vN=function(){var vP,vQ;vP=i.Get(vM);vQ=function(vR){var vS,vT;if(vP.MoveNext()){vT=vL(vP.get_Current());vR.c=vT;vS=true;}else{vS=false;}return vS;};return x.New(null,null,vQ);};return T.Of(vN);},mapi:function(vU,vV){return g.mapi2(vU,g.initInfinite(function(vW){return vW;}),vV);},mapi2:function(vX,vY,vZ){var v0;v0=function(){var v2,v3,v4;v2=i.Get(vY);v3=i.Get(vZ);v4=function(v5){var v6,v7;if(v2.MoveNext()?v3.MoveNext():false){v7=(vX(v2.get_Current()))(v3.get_Current());v5.c=v7;v6=true;}else{v6=false;}return v6;};return x.New(null,null,v4);};return T.Of(v0);},max:function(v8){return g.reduce(function(v9){return function(v_){return h.Compare(v9,v_)>=0?v9:v_;};},v8);},maxBy:function(v$,wa){return g.reduce(function(wb){return function(wc){return h.Compare(v$(wb),v$(wc))>=0?wb:wc;};},wa);},min:function(wd){return g.reduce(function(we){return function(wf){return h.Compare(we,wf)<=0?we:wf;};},wd);},minBy:function(wg,wh){return g.reduce(function(wi){return function(wj){return h.Compare(wg(wi),wg(wj))<=0?wi:wj;};},wh);},nth:function(wk,wl){var wm,wn;wk<0?c.FailWith("negative index requested"):null;wm=-1;wn=i.Get(wl);while(wm<wk){!wn.MoveNext()?g.insufficient():null;wm=wm+1;}return wn.get_Current();},pairwise:function(wo){var wp,wr;wp=function(wq){return[e.GetArray(wq,0),e.GetArray(wq,1)];};wr=g.windowed(2,wo);return g.map(wp,wr);},pick:function(ws,wt){var wu,wv,ww;wu=g.tryPick(ws,wt);if(wu.$==0){wv=c.FailWith("KeyNotFoundException");}else{ww=wu.$0;wv=ww;}return wv;},readOnly:function(wx){return T.Of(function(){return i.Get(wx);});},reduce:function(wz,wA){var wB,wC;wB=i.Get(wA);!wB.MoveNext()?c.FailWith("The input sequence was empty"):null;wC=wB.get_Current();while(wB.MoveNext()){wC=(wz(wC))(wB.get_Current());}return wC;},scan:function(wD,wE,wF){var wG;wG=function(){var wI,wJ;wI=i.Get(wF);wJ=function(wK){var wL,wM,wN;if(wK.s){if(wI.MoveNext()){wN=(wD(wK.get_Current()))(wI.get_Current());wK.c=wN;wM=true;}else{wM=false;}wL=wM;}else{wK.c=wE;wK.s=true;wL=true;}return wL;};return x.New(false,null,wJ);};return T.Of(wG);},skip:function(wO,wP){return T.Of(function(){var wR,wS;wR=i.Get(wP);for(wS=1;wS<=wO;wS++){!wR.MoveNext()?g.insufficient():null;}return wR;});},skipWhile:function(wT,wU){return T.Of(function(){var wW,wX,wY,wZ,w0;wW=i.Get(wU);wX=true;while(wW.MoveNext()?wT(wW.get_Current()):false){wX=false;}if(wX){wZ=g.empty();wY=i.Get(wZ);}else{w0=function(w1){var w2,w3,w4,w5;if(w1.s){w1.s=false;w3=wW.get_Current();w1.c=w3;w2=true;}else{w4=wW.MoveNext();w5=wW.get_Current();w1.c=w5;w2=w4;}return w2;};wY=x.New(true,null,w0);}return wY;});},sort:function(w6){return g.sortBy(function(w7){return w7;},w6);},sortBy:function(w8,w9){return g.delay(function(){var w$;w$=b.ofSeq(w9);b.sortInPlaceBy(w8,w$);return w$;});},sum:function(xa){return g.fold(function(xb){return function(xc){return xb+xc;};},0,xa);},sumBy:function(xd,xe){return g.fold(function(xf){return function(xg){return xf+xd(xg);};},0,xe);},take:function(xh,xi){return T.Of(function(){var xk,xl;xk=i.Get(xi);xl=function(xm){var xn,xo,xp,xq;if(xm.s>=xh){xn=false;}else{if(xk.MoveNext()){xp=xm.s+1;xm.s=xp;xq=xk.get_Current();xm.c=xq;xo=true;}else{xk.Dispose();xm.s=xh;xo=false;}xn=xo;}return xn;};return x.New(0,null,xl);});},takeWhile:function(xr,xs){return g.delay(function(){return g.enumUsing(i.Get(xs),function(xu){return g.enumWhile(function(){return xu.MoveNext()?xr(xu.get_Current()):false;},g.delay(function(){return[xu.get_Current()];}));});});},toArray:function(xx){var xy,xz,xA;xy=[];xz=i.Get(xx);while(xz.MoveNext()){xA=xz.get_Current();xy.push(xA);}return xy.slice(0);},toList:function(xB){return J.ofSeq(xB);},truncate:function(xC,xD){return g.delay(function(){return g.enumUsing(i.Get(xD),function(xF){var xG;xG={contents:0};return g.enumWhile(function(){return xF.MoveNext()?xG.contents<xC:false;},g.delay(function(){c.Increment(xG);return[xF.get_Current()];}));});});},tryFind:function(xJ,xK){var xL,xM,xN;xL=i.Get(xK);xM={$:0};while(xM.$==0?xL.MoveNext():false){xN=xL.get_Current();xJ(xN)?xM={$:1,$0:xN}:null;}return xM;},tryFindIndex:function(xO,xP){var xQ,xR,xS,xT;xQ=i.Get(xP);xR=true;xS=0;while(xR?xQ.MoveNext():false){xT=xQ.get_Current();xO(xT)?xR=false:xS=xS+1;}return xR?{$:0}:{$:1,$0:xS};},tryPick:function(xU,xV){var xW,xX;xW=i.Get(xV);xX={$:0};while(h.Equals(xX,{$:0})?xW.MoveNext():false){xX=xU(xW.get_Current());}return xX;},unfold:function(xY,xZ){var x0;x0=function(){var x2;x2=function(x3){var x4,x5,x6,x7;x4=xY(x3.s);if(x4.$==0){x5=false;}else{x6=x4.$0[0];x7=x4.$0[1];x3.c=x6;x3.s=x7;x5=true;}return x5;};return x.New(xZ,null,x2);};return T.Of(x0);},windowed:function(x8,x9){x8<=0?c.FailWith("The input must be non-negative."):null;return g.delay(function(){return g.enumUsing(i.Get(x9),function(x$){var ya;ya=[];return g.append(g.enumWhile(function(){return ya.length<x8?x$.MoveNext():false;},g.delay(function(){ya.push(x$.get_Current());return g.empty();})),g.delay(function(){return ya.length===x8?g.append([ya.slice(0)],g.delay(function(){return g.enumWhile(function(){return x$.MoveNext();},g.delay(function(){ya.shift();ya.push(x$.get_Current());return[ya.slice(0)];}));})):g.empty();}));});});},zip:function(yh,yi){return g.mapi2(function(yj){return function(yk){return[yj,yk];};},yh,yi);},zip3:function(yl,ym,yn){return g.mapi2(function(yo){return $.Tupled(function(yp){var yq,yr;yq=yp[0];yr=yp[1];return[yo,yq,yr];});},yl,g.zip(ym,yn));}},Stack:{Clear:function(ys){return ys.splice(0,e.GetLength(ys));},Contains:function(yt,yu){return g.exists(function(yv){return h.Equals(yu,yv);},yt);},CopyTo:function(yw,yx,yy){return b.blit(yx,0,yx,yy,e.GetLength(yw));}},Strings:{Compare:function(yz,yA){return c.Compare(yz,yA);},CopyTo:function(yB,yC,yD,yE,yF){return b.blit(M.ToCharArray(yB),yC,yD,yE,yF);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(yG,yH){return M.PadLeftWith(yG,yH,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s;},PadRight:function(yI,yJ){return M.PadRightWith(yI,yJ,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c));},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(yK,yL,yM){var yN;yN=function(yO){var yP,yQ,yR,yS,yT;yP=yO.indexOf(yL);if(yP!==-1){yR=M.ReplaceOnce(yO,yL,yM);yS=yP+yM.length;yT=yP+yM.length;yQ=M.Substring(yR,0,yT)+yN(yR.substring(yS));}else{yQ=yO;}return yQ;};return yN(yK);},ReplaceChar:function(yU,yV,yW){return M.Replace(yU,U.fromCharCode(yV),U.fromCharCode(yW));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(yX,yY,yZ){var y0;y0=M.SplitWith(yX,yY);return yZ===1?b.filter(function(y1){return y1!=="";},y0):y0;},SplitChars:function(y2,y3,y4){var y5;y5="["+M.RegexEscape(U.fromCharCode.apply(undefined,y3))+"]";return M.Split(y2,new V(y5),y4);},SplitStrings:function(y6,y7,y8){var y9;y9=M.concat("|",b.map(function(y_){return M.RegexEscape(y_);},y7));return M.Split(y6,new V(y9),y8);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(y$){return b.init(y$.length,function(za){return y$.charCodeAt(za);});},ToCharArrayRange:function(zb,zc,zd){return b.init(zd,function(ze){return zb.charCodeAt(zc+ze);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(zf,zg){return b.init(zg.length,function(zh){return zf(zg.charCodeAt(zh));}).join("");},concat:function(zi,zj){return g.toArray(zj).join(zi);},exists:function(zk,zl){return g.exists(zk,M.protect(zl));},forall:function(zm,zn){return g.forall(zm,M.protect(zn));},init:function(zo,zp){return b.init(zo,zp).join("");},iter:function(zq,zr){return g.iter(zq,M.protect(zr));},iteri:function(zs,zt){return g.iteri(zs,M.protect(zt));},length:function(zu){return M.protect(zu).length;},map:function(zv,zw){return M.collect(function(zx){return U.fromCharCode(zv(zx));},M.protect(zw));},mapi:function(zy,zz){return g.toArray(g.mapi(function(zA){return function(zB){return U.fromCharCode((zy(zA))(zB));};},zz)).join("");},protect:function(zC){return zC===null?"":zC;},replicate:function(zD,zE){return M.init(zD,function(){return zE;});}},Unchecked:{Compare:function(zG,zH){var zI,zJ,zK,zL;if(zG===zH){zI=0;}else{zJ=typeof zG;if(zJ==="undefined"){zL=typeof zH;zK=zL==="undefined"?0:-1;}else{zK=zJ==="function"?c.FailWith("Cannot compare function values."):zJ==="boolean"?zG<zH?-1:1:zJ==="number"?zG<zH?-1:1:zJ==="string"?zG<zH?-1:1:zG===null?-1:zH===null?1:"CompareTo"in zG?zG.CompareTo(zH):(zG instanceof f?zH instanceof f:false)?h.compareArrays(zG,zH):(zG instanceof u?zH instanceof u:false)?h.compareDates(zG,zH):h.compareArrays(G.GetFields(zG),G.GetFields(zH));}zI=zK;}return zI;},Equals:function(zM,zN){var zO,zP;if(zM===zN){zO=true;}else{zP=typeof zM;zO=zP==="object"?zM===null?false:zN===null?false:"Equals"in zM?zM.Equals(zN):(zM instanceof f?zN instanceof f:false)?h.arrayEquals(zM,zN):(zM instanceof u?zN instanceof u:false)?h.dateEquals(zM,zN):h.arrayEquals(G.GetFields(zM),G.GetFields(zN)):false;}return zO;},Hash:function(zQ){var zR;zR=typeof zQ;return zR==="function"?0:zR==="boolean"?zQ?1:0:zR==="number"?zQ:zR==="string"?h.hashString(zQ):zR==="object"?zQ==null?0:zQ instanceof f?h.hashArray(zQ):h.hashObject(zQ):0;},arrayEquals:function(zS,zT){var zU,zV,zW;if(e.GetLength(zS)===e.GetLength(zT)){zV=true;zW=0;while(zV?zW<e.GetLength(zS):false){!h.Equals(e.GetArray(zS,zW),e.GetArray(zT,zW))?zV=false:null;zW=zW+1;}zU=zV;}else{zU=false;}return zU;},compareArrays:function(zX,zY){var zZ,z0,z1,z2;if(e.GetLength(zX)<e.GetLength(zY)){zZ=-1;}else{if(e.GetLength(zX)>e.GetLength(zY)){z0=1;}else{z1=0;z2=0;while(z1===0?z2<e.GetLength(zX):false){z1=h.Compare(e.GetArray(zX,z2),e.GetArray(zY,z2));z2=z2+1;}z0=z1;}zZ=z0;}return zZ;},compareDates:function(z3,z4){return c.Compare(z3.getTime(),z4.getTime());},dateEquals:function(z5,z6){return z5.getTime()===z6.getTime();},hashArray:function(z7){var z8,z9;z8=-34948909;for(z9=0;z9<=e.GetLength(z7)-1;z9++){z8=h.hashMix(z8,h.Hash(e.GetArray(z7,z9)));}return z8;},hashMix:function(z_,z$){return(z_<<5)+z_+z$;},hashObject:function(Aa){var Ab,Ac,Af;if("GetHashCode"in Aa){Ab=Aa.GetHashCode();}else{Ac=function(Ad,Ae){return h.hashMix(Ad,Ae);};Af={contents:0};G.ForEach(Aa,function(Ag){Af.contents=Ac(Ac(Af.contents,h.hashString(Ag)),h.Hash(Aa[Ag]));return false;});Ab=Af.contents;}return Ab;},hashString:function(Ah){var Ai,Aj,Ak;if(Ah===null){Ai=0;}else{Aj=5381;for(Ak=0;Ak<=Ah.length-1;Ak++){Aj=h.hashMix(Aj,Ah.charCodeAt(Ak)<<0);}Ai=Aj;}return Ai;}},Util:{addListener:function(Al,Am){Al.Subscribe(r.observer(Am));},observer:function(An){return{OnCompleted:function(){},OnError:function(){},OnNext:An};},subscribeTo:function(Aq,Ar){return Aq.Subscribe(r.observer(Ar));}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Arrays);c=$.Safe(a.Operators);d=$.Safe($$.Number);e=$.Safe(a.IntrinsicFunctionProxy);f=$.Safe($$.Array);g=$.Safe(a.Seq);h=$.Safe(a.Unchecked);i=$.Safe(a.Enumerator);j=$.Safe(a.Arrays2D);k=$.Safe(a.Concurrency);l=$.Safe(a.AggregateException);m=$.Safe(a.Option);n=$.Safe($$.clearTimeout);o=$.Safe($$.setTimeout);p=$.Safe(a.CancellationTokenSource);q=$.Safe(a.Char);r=$.Safe(a.Util);s=$.Safe(a.Lazy);t=$.Safe($$.Error);u=$.Safe($$.Date);v=$.Safe($$.console);w=$.Safe(k.Scheduler);x=$.Safe(i.T);y=$.Safe(a.Html);z=$.Safe(y.Client);A=$.Safe(z.Activator);B=$.Safe($$.document);C=$.Safe($$.jQuery);D=$.Safe(a.Json);E=$.Safe($$.JSON);F=$.Safe(a.JavaScript);G=$.Safe(F.JSModule);H=$.Safe(z.HtmlContentExtensions);I=$.Safe(H.SingleNode);J=$.Safe(a.List);K=$.Safe(J.T);L=$.Safe($$.Math);M=$.Safe(a.Strings);N=$.Safe(a.PrintfHelpers);O=$.Safe(a.Remoting);P=$.Safe(O.XhrProvider);Q=$.Safe(a.AsyncProxy);R=$.Safe(O.AjaxRemotingProvider);S=$.Safe($$.window);T=$.Safe(a.Enumerable);U=$.Safe($$.String);return V=$.Safe($$.RegExp);});$.OnLoad(function(){O.EndPoint();O.AjaxProvider();A.Activate();k.scheduler();k.defCTS();k.GetCT();return;});}());

//# sourceMappingURL=IntelliFactory.WebSharper.min.map